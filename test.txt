from flask import Flask, render_template_string, session, url_for, make_response, redirect

app = Flask(__name__)
app.secret_key = "your_secret_key"

@app.route("/logout")
def logout():
    # Clear the session data
    session.clear()
    
    # Create a response object
    response = make_response(render_template_string('''
    <!DOCTYPE html>
    <html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>Logout</title>
        <script>
            function clearBrowserData() {
                // Clear local storage
                localStorage.clear();
                
                // Clear session storage
                sessionStorage.clear();
                
                // Clear cookies
                var cookies = document.cookie.split(";");
                for (var i = 0; i < cookies.length; i++) {
                    var cookie = cookies[i];
                    var eqPos = cookie.indexOf("=");
                    var name = eqPos > -1 ? cookie.substr(0, eqPos) : cookie;
                    document.cookie = name + "=;expires=Thu, 01 Jan 1970 00:00:00 GMT;path=/";
                }
            }
            
            // Execute the function on page load
            window.onload = clearBrowserData;
        </script>
    </head>
    <body>
        <p>You are logged out. Please close all browser windows.</p>
    </body>
    </html>
    '''))
    
    # Expire the session cookie
    response.set_cookie('session', '', expires=0)
    
    # Add additional cookies to clear if necessary
    response.set_cookie('another_cookie_name', '', expires=0)
    
    return response

@app.route("/")
def index():
    return "You are logged out"

if __name__ == "__main__":
    app.run(debug=True)
